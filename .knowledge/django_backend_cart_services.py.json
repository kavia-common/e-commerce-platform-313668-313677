{"is_source_file": true, "format": "Python", "description": "This file defines service functions related to shopping cart operations in a Django-based e-commerce platform. It includes functions for retrieving or creating a user's cart, adding products to the cart, and changing item quantities.", "external_files": ["django.contrib.auth.models", "cart.models", "catalog.models"], "external_methods": ["Cart.objects.get_or_create", "CartItem.objects.get_or_create", "CartItem.save", "CartItem.delete"], "published": ["get_or_create_cart_for_user", "add_product", "change_quantity"], "classes": [], "methods": [{"name": "Cart get_or_create_cart_for_user(user: AbstractBaseUser)", "description": "Retrieves or creates a cart associated with the given user.", "scope": "", "scopeKind": ""}, {"name": "CartItem add_product(user: AbstractBaseUser, product: Product)", "description": "Adds a product to the user's cart, or increments the quantity if it already exists.", "scope": "", "scopeKind": ""}, {"name": "None change_quantity(item: CartItem, delta: int)", "description": "Adjusts the quantity of a cart item by a specified delta; removes the item if quantity reaches zero.", "scope": "", "scopeKind": ""}], "calls": ["Cart.objects.get_or_create", "CartItem.objects.get_or_create", "item.save", "item.delete"], "search-terms": ["cart service", "add product to cart", "modify cart item quantity", "get or create user's cart", "atomic transaction"], "state": 2, "file_id": 36, "knowledge_revision": 99, "git_revision": "a1d371d1f4c1595788454008b65ee2947aa15578", "ctags": [{"_type": "tag", "name": "add_product", "path": "/home/kavia/workspace/code-generation/e-commerce-platform-313668-313677/django_backend/cart/services.py", "pattern": "/^def add_product(user: AbstractBaseUser, product: Product) -> CartItem:$/", "language": "Python", "typeref": "typename:CartItem", "kind": "function", "signature": "(user: AbstractBaseUser, product: Product)"}, {"_type": "tag", "name": "change_quantity", "path": "/home/kavia/workspace/code-generation/e-commerce-platform-313668-313677/django_backend/cart/services.py", "pattern": "/^def change_quantity(item: CartItem, delta: int) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(item: CartItem, delta: int)"}, {"_type": "tag", "name": "get_or_create_cart_for_user", "path": "/home/kavia/workspace/code-generation/e-commerce-platform-313668-313677/django_backend/cart/services.py", "pattern": "/^def get_or_create_cart_for_user(user: AbstractBaseUser) -> Cart:$/", "language": "Python", "typeref": "typename:Cart", "kind": "function", "signature": "(user: AbstractBaseUser)"}], "hash": "c5df73f0af108f0abefc9a18e358337c", "format-version": 4, "code-base-name": "django_backend", "filename": "django_backend/cart/services.py", "revision_history": [{"99": "a1d371d1f4c1595788454008b65ee2947aa15578"}]}